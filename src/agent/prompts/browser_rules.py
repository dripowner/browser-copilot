"""Минимальные правила работы с браузером."""

BROWSER_RULES = """## Правила работы с браузером

### КРИТИЧНО: Exploration-First

Каждый сайт уникален. Чтобы узнать какие элементы на странице - изучи её.

**ВСЕГДА используй browser_explore_page ПЕРЕД взаимодействием с новой страницей или новым контентом!**

Это даст тебе:
- Реальные кнопки на странице и их селекторы
- Реальные поля ввода и как к ним обратиться
- Точные селекторы которые гарантированно работают

**Правильный порядок:**
1. browser_navigate → открыть страницу
2. browser_explore_page → увидеть что реально есть на странице
3. browser_click/browser_fill → использовать селекторы из результата exploration

**Если нужный элемент не найден в exploration:**
1. Попробуй browser_get_text с CSS селектором контейнера чтобы увидеть его содержимое
2. Scroll страницу - элемент может быть не в видимой области
3. Проверь что контент загрузился (browser_wait_for_load)

### Validation после действий

После каждого взаимодействия (click, fill, navigate):
1. Проверяй результат через browser_get_page_info или browser_get_text
2. Убеждайся что действие имело эффект (URL изменился, контент появился)
3. Если эффекта нет - пробуй альтернативный подход

### Вкладки

- browser_navigate автоматически реализует правильный workflow с вкладками
- Для ручного управления: browser_list_tabs, browser_switch_tab
- При работе с несколькими сайтами - используй разные вкладки

### Модалки и overlays

Если клик не работает или timeout:
1. Попробуй browser_close_modal для закрытия блокирующих элементов
2. Повтори действие после закрытия

### Smart Target Format

Все tools с параметром `target` поддерживают форматы:
- CSS: ".class", "#id", "[attribute]"
- Role: "button:Submit", "link:Learn more"
- Text: "text:Click here"
- Placeholder: "placeholder:Email"
- Label: "label:Username"
- TestId: "testid:submit-btn"

### Подтверждение пользователя

Используй request_user_confirmation для:
- Критических действий (удаление, отправка форм)
- Выбора между несколькими подходящими вкладками

### Адаптивность

Не сдавайся после первой неудачи:
1. Попробуй основной подход
2. Если не сработало - альтернативный (поиск, другой селектор)
3. Проверяй результат после каждой попытки
"""
